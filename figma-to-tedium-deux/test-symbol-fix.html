<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Symbol Fix Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-result { margin: 10px 0; padding: 10px; border: 1px solid #ccc; }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        .error { background-color: #f8d7da; border-color: #f5c6cb; }
    </style>
</head>
<body>
    <h1>Symbol Fix Test</h1>
    <div id="results"></div>

    <script>
        // Test the safeAttributeValue function logic
        function safeAttributeValue(value) {
            if (value === null || value === undefined) return '';
            if (typeof value === 'symbol') return value.toString();
            return String(value);
        }

        // Test cases
        const testCases = [
            { input: 'test string', expected: 'test string', description: 'String value' },
            { input: 123, expected: '123', description: 'Number value' },
            { input: null, expected: '', description: 'Null value' },
            { input: undefined, expected: '', description: 'Undefined value' },
            { input: Symbol('test'), expected: 'Symbol(test)', description: 'Symbol value' },
            { input: true, expected: 'true', description: 'Boolean value' },
            { input: { key: 'value' }, expected: '[object Object]', description: 'Object value' }
        ];

        const resultsDiv = document.getElementById('results');
        let allPassed = true;

        testCases.forEach((testCase, index) => {
            try {
                const result = safeAttributeValue(testCase.input);
                const passed = result === testCase.expected;
                allPassed = allPassed && passed;
                
                const div = document.createElement('div');
                div.className = `test-result ${passed ? 'success' : 'error'}`;
                div.innerHTML = `
                    <strong>Test ${index + 1}: ${testCase.description}</strong><br>
                    Input: ${String(testCase.input)}<br>
                    Expected: ${testCase.expected}<br>
                    Result: ${result}<br>
                    Status: ${passed ? 'PASS' : 'FAIL'}
                `;
                resultsDiv.appendChild(div);
            } catch (error) {
                allPassed = false;
                const div = document.createElement('div');
                div.className = 'test-result error';
                div.innerHTML = `
                    <strong>Test ${index + 1}: ${testCase.description}</strong><br>
                    Error: ${error.message}<br>
                    Status: FAIL
                `;
                resultsDiv.appendChild(div);
            }
        });

        // Overall result
        const summaryDiv = document.createElement('div');
        summaryDiv.className = `test-result ${allPassed ? 'success' : 'error'}`;
        summaryDiv.innerHTML = `
            <strong>Overall Result: ${allPassed ? 'ALL TESTS PASSED' : 'SOME TESTS FAILED'}</strong>
        `;
        resultsDiv.appendChild(summaryDiv);
    </script>
</body>
</html>
